<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dinner planner</title>

    <link rel="stylesheet" href="https://unpkg.com/mocha/mocha.css" />

  </head>
  <body>
      <h1>Dinner planner</h1>
      <div id="loader" class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    <div class="container" id="page-content" style="display:none">
 
    </div>

    <div id="mocha"></div>

    <script src="https://unpkg.com/chai/chai.js"></script>
    <script src="https://unpkg.com/mocha/mocha.js"></script>
    <!-- Redux -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/3.5.2/redux.js"></script>
    <!-- babel, mithril for JSX -->
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js" SameSite="None" charset="utf-8"></script>
    <script src="https://unpkg.com/mithril/mithril.js"></script>

    <script class="mocha-init">
      mocha.setup({
        ui: 'bdd',
        timeout: 5000
      });
      //mocha.checkLeaks();
    </script>


    
    <!-- The application JavaScript code -->
    <script src="src/view/eventEmitter.js"></script>
    <script type="text/jsx" src="src/model/apiConfig.js"></script>
    <script src="src/model/dinnerModel.js"></script>
    <script type="text/jsx" src="src/view/homeView.js"></script>
    <script type="text/jsx" src="src/view/searchView.js"></script>
    <script src="src/view/overviewView.js"></script>
    <!-- 
     preset is set to react, but the render callback is still m(). The reason it is set to react
     is that extending classes always crash with the default preset, (bug in babel). 
     use inspect element on the page, then search for 'm(' to verify that the transpiled code is not calling react
    -->
    <script type="text/jsx" src="src/view/sidebarView.js"  data-presets="react"></script>
    <script type="text/jsx" src="src/view/dishsearchView.js"></script>
    <script src="src/view/myDinnerView.js"></script>
    <script type="text/jsx" src="src/view/headerView.js"></script>
    <script src="src/view/printoutView.js"></script>
    <script type="text/jsx" src="src/view/dishdetailsView.js"></script>
    <script type="text/jsx" src="src/view/recipeView.js"></script>
    <script type="text/jsx" src="src/view/searchresultsView.js"  data-presets="react"></script>

    <!-- <script src="src/model/dinnerModel.test.js"></script> type set to text/jsx -->
    <script src="src/app.test.js"></script>

    <script class="mocha-exec">
      //Running tests immediately caused all tests to error when using JSX
      //window.addEventListener("load", function(){mocha.run()});
      setTimeout(mocha.run, 20);
    </script>

  </body>
</html>